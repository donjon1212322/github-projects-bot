{
    "article": {
        "title": "Moss: The Rust Kernel That Uses Async/Await to Kill Kernel Deadlocks",
        "body_markdown": "---\ntitle: Moss: The Rust Kernel That Uses Async/Await to Kill Kernel Deadlocks\npublished: True\ntags: rust, kernel, os, aarch64\n---\n\n## Quick Summary: ðŸ“\nMoss is a Unix-like, Linux-compatible kernel written in Rust for the Aarch64 architecture. It leverages Rust's async/await features for a modern, deadlock-free kernel design and aims for binary compatibility with Linux userspace, capable of running BusyBox commands.\n\n## Key Takeaways: ðŸ’¡\n\n* âœ… Moss uses Rust's `async/await` model within the kernel to prevent common deadlocks by enforcing that spinlocks cannot be held across sleep points.\n\n* âœ… It is a Unix-like kernel targeting Aarch64, providing a modern, safe foundation for ARM-based systems.\n\n* âœ… The project maintains binary compatibility with Linux userspace, capable of running essential tools like BusyBox commands.\n\n* âœ… The architecture-agnostic `libkernel` allows core logic to be tested locally on host machines (e.g., x86), drastically accelerating development and debugging cycles.\n\n* âœ… A clean Hardware Abstraction Layer (HAL) ensures modularity and simplifies potential future porting to other architectures like x86_64 or RISC-V.\n\n\n## Project Statistics: ðŸ“Š\n* â­ **Stars:** 1633\n* ðŸ´ **Forks:** 66\n* â— **Open Issues:** 8\n\n\n## Tech Stack: ðŸ’»\n- âœ… Rust\n\n\nTired of wrestling with legacy kernel code and obscure memory bugs? Meet **moss**, a project that is fundamentally changing how we think about operating system development by leveraging the power of modern Rust and asynchronous programming. This isn't just another hobby kernel; it's a serious attempt to build a robust, Linux-compatible core from the ground up, specifically targeting the high-performance Aarch64 architecture.\n\nThe core innovation in moss lies in its deep integration of Rust's `async/await` model directly into the kernel context. Imagine system calls that are naturally structured as asynchronous functions. When a task needs to waitâ€”say, for I/O or a lockâ€”the code explicitly uses `.await`. Why is this revolutionary? Because the Rust compiler enforces a crucial safety guarantee: you cannot hold a spinlock across an await point. This single feature eliminates a massive class of kernel deadlocks that plague traditional C-based kernels, offering unparalleled stability and making concurrent programming inside the OS much safer and more intuitive.\n\nBeyond its async core, moss is designed for compatibility and portability. It features a clean Hardware Abstraction Layer (HAL), meaning that while it currently shines on Aarch64, porting it to architectures like x86_64 or RISC-V is a structured, achievable goal. For developers, this modularity is key. The kernel also implements essential Linux syscalls, making it binary compatible enough to execute many standard Linux userspace applications, such as most BusyBox commands. This allows developers to leverage existing tools and utilities while benefiting from the safety and modernity of a Rust kernel.\n\nMemory management is handled with strong typing, utilizing `VA` (Virtual), `PA` (Physical), and `UA` (User) addresses, alongside advanced features like Copy-on-Write (CoW) pages. This rigorous approach to memory ensures safety and efficiency, crucial for systems programming.\n\nOne of the most practical benefits for developers is the `libkernel` foundation. This utility library is designed to be architecture-agnostic, allowing core kernel logicâ€”like VFS abstractions, synchronization primitives, and memory managementâ€”to be tested thoroughly on your host machine (like an x86 desktop) before ever touching bare metal or QEMU. Think about how much time this saves! Debugging complex kernel issues without the slow cycle of booting a full OS is a game-changer. moss currently boasts over 230 tests in this suite, ensuring high reliability right from the start. If youâ€™re interested in OS development, high-performance computing on ARM, or just want to see Rust pushed to its absolute limits, moss offers a refreshing, safe, and highly testable environment.\n\n## Learn More: ðŸ”—\n[View the Project on GitHub](https://github.com/hexagonal-sun/moss-kernel)\n\n---\n## ðŸŒŸ Stay Connected with GitHub Open Source!\n\n> ðŸ“± **Join us on Telegram**  \n> Get daily updates on the best open-source projects  \n> [GitHub Open Source](https://t.me/GitHub_Open_Source)\n\n> ðŸ‘¥ **Follow us on Facebook**  \n> Connect with our community and never miss a discovery  \n> [GitHub Open Source](https://www.facebook.com/people/GitHub-Open-Source/61571925474856/)",
        "tags": [
            "rust",
            "kernel",
            "os",
            "aarch64"
        ],
        "description": "Rust Linux-compatible kernel",
        "published": false,
        "project_id": 1100639361
    }
}